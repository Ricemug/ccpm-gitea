# 上下文创建准确性改进

## 解决的问题

Issue #48 报告指出 `/context:create` 产生不准确的信息，包括虚构的 API、模式和实际程序代码库中不存在的结构。

## 实施的解决方案

增强了 `/context:create` 和 `/context:update` 命令，加入全面的准确性保护措施和自我验证机制。

## 主要改进

### 1. 预分析验证阶段

在任何上下文创建之前新增强制验证步骤：

```markdown
### 2.5. 验证和准确性阶段

**重要：在撰写任何上下文档案之前，您必须：**

1. **仅基于证据的分析**
   - 仅记录您可以在程序代码库中直接观察到的模式
   - 绝不假设或推断未明确存在的功能
   - 如果对某个模式不确定，使用谨慎的语言："似乎"、"可能"、"潜在地"

2. **自我验证问题**
   - 在撰写任何架构模式之前："我能否指出展示这一点的特定档案？"
   - 在记录任何 API 或接口之前："我是否实际看到这在程序代码中实现了？"
   - 在描述任何工作流程之前："这是基于实际程序代码还是我在推断？"
```

### 2. 强制准确性验证

为每个上下文档案新增创建后的准确性检查：

```markdown
### 4.5. 准确性验证

**强制：在撰写每个上下文档案后，执行此自我检查：**

1. **证据验证**
   - 我能否指出支持每个声明的特定档案/目录？
   - 我是否避免了编造不存在的 API、模式或结构？
   - 所有技术细节是否基于实际程序代码检查？

2. **假设标记**
   - 我是否清楚地用警告标记标记了任何假设？
   - 我是否使用了适当的信心等级和限定语言？
   - 不确定的陈述是否得到适当的免责声明？
```

### 3. 必需的免责声明和警告

透过明确的准确性警告增强使用者意识：

```markdown
⚠️ 重要准确性提示：
- 上下文分析由 AI 生成，可能包含不准确之处
- 在用于开发之前需要手动审查
- 寻找 ⚠️ 假设标记并验证不确定的声明
- 将技术细节与实际程序代码库交叉参考
```

### 4. 保守的更新方法

对于上下文更新，实施基于证据的修改标准：

```markdown
1. **保守的更新方法**
   - 仅更新您可以在程序代码库中直接验证的信息
   - 保留现有准确信息，而不是进行不确定的更改
   - 当证据不清楚时，新增警告说明而不是确定性陈述
```

## 特定准确性机制

### 自我验证问题
- "我能否指出展示这一点的特定档案？"
- "我是否实际看到这在程序代码中实现了？"
- "这是基于实际程序代码还是我在推断？"

### 不确定性标记
- `⚠️ 假设 - 需要验证`
- `⚠️ 这是一个假设，应该被验证`
- `⚠️ 验证 - [要检查的特定项目]`

### 限定语言
- "似乎"、"可能"、"潜在地"
- "基于对 [特定档案] 的分析"
- "高信心"、"中等信心"、"低信心 - 需验证"

### 证据要求
- 所有技术声明的档案/目录参考
- 支持模式的特定程序代码位置
- 实际实现的交叉参考

## 预期结果

这些改进应该通过以下方式显著减少上下文创建的不准确性：

1. **强制基于证据的分析**而不是推断
2. **在整个过程中新增多个验证检查点**
3. **要求明确的不确定性标记**用于假设
4. **提供清晰的使用者警告**关于手动审查要求
5. **建立保守的更新实践**用于持续维护

## 测试建议

使用者应该在复杂的程序代码库上测试增强的上下文创建，并与以前的版本比较准确性。新系统应该产生更保守、基于证据的上下文，并带有适当的不确定性标记。
