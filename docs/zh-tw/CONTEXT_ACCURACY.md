# 上下文創建準確性改進

## 解決的問題

Issue #48 報告指出 `/context:create` 產生不準確的資訊，包括虛構的 API、模式和實際程式碼庫中不存在的結構。

## 實施的解決方案

增強了 `/context:create` 和 `/context:update` 命令，加入全面的準確性保護措施和自我驗證機制。

## 主要改進

### 1. 預分析驗證階段

在任何上下文創建之前新增強制驗證步驟：

```markdown
### 2.5. 驗證和準確性階段

**重要：在撰寫任何上下文檔案之前，您必須：**

1. **僅基於證據的分析**
   - 僅記錄您可以在程式碼庫中直接觀察到的模式
   - 絕不假設或推斷未明確存在的功能
   - 如果對某個模式不確定，使用謹慎的語言："似乎"、"可能"、"潛在地"

2. **自我驗證問題**
   - 在撰寫任何架構模式之前："我能否指出展示這一點的特定檔案？"
   - 在記錄任何 API 或介面之前："我是否實際看到這在程式碼中實現了？"
   - 在描述任何工作流程之前："這是基於實際程式碼還是我在推斷？"
```

### 2. 強制準確性驗證

為每個上下文檔案新增創建後的準確性檢查：

```markdown
### 4.5. 準確性驗證

**強制：在撰寫每個上下文檔案後，執行此自我檢查：**

1. **證據驗證**
   - 我能否指出支持每個聲明的特定檔案/目錄？
   - 我是否避免了編造不存在的 API、模式或結構？
   - 所有技術細節是否基於實際程式碼檢查？

2. **假設標記**
   - 我是否清楚地用警告標記標記了任何假設？
   - 我是否使用了適當的信心等級和限定語言？
   - 不確定的陳述是否得到適當的免責聲明？
```

### 3. 必需的免責聲明和警告

透過明確的準確性警告增強使用者意識：

```markdown
⚠️ 重要準確性提示：
- 上下文分析由 AI 生成，可能包含不準確之處
- 在用於開發之前需要手動審查
- 尋找 ⚠️ 假設標記並驗證不確定的聲明
- 將技術細節與實際程式碼庫交叉參考
```

### 4. 保守的更新方法

對於上下文更新，實施基於證據的修改標準：

```markdown
1. **保守的更新方法**
   - 僅更新您可以在程式碼庫中直接驗證的資訊
   - 保留現有準確資訊，而不是進行不確定的更改
   - 當證據不清楚時，新增警告說明而不是確定性陳述
```

## 特定準確性機制

### 自我驗證問題
- "我能否指出展示這一點的特定檔案？"
- "我是否實際看到這在程式碼中實現了？"
- "這是基於實際程式碼還是我在推斷？"

### 不確定性標記
- `⚠️ 假設 - 需要驗證`
- `⚠️ 這是一個假設，應該被驗證`
- `⚠️ 驗證 - [要檢查的特定項目]`

### 限定語言
- "似乎"、"可能"、"潛在地"
- "基於對 [特定檔案] 的分析"
- "高信心"、"中等信心"、"低信心 - 需驗證"

### 證據要求
- 所有技術聲明的檔案/目錄參考
- 支持模式的特定程式碼位置
- 實際實現的交叉參考

## 預期結果

這些改進應該通過以下方式顯著減少上下文創建的不準確性：

1. **強制基於證據的分析**而不是推斷
2. **在整個過程中新增多個驗證檢查點**
3. **要求明確的不確定性標記**用於假設
4. **提供清晰的使用者警告**關於手動審查要求
5. **建立保守的更新實踐**用於持續維護

## 測試建議

使用者應該在複雜的程式碼庫上測試增強的上下文創建，並與以前的版本比較準確性。新系統應該產生更保守、基於證據的上下文，並帶有適當的不確定性標記。
